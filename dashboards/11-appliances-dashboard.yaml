views:
  ###############################################################################
  # APPLIANCES DASHBOARD
  # Washing Machine, Tumble Dryer, Dishwasher, Oven, Refrigerator
  ###############################################################################

  - title: Appliances
    path: appliances
    icon: mdi:washing-machine

    type: sections
    max_columns: 3

    sections:
      # ===========================================================================
      # OVERVIEW STATUS
      # ===========================================================================
      - type: grid
        title: ""
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                icon: mdi:washing-machine
                content: "{% if is_state('sensor.washing_machine_machine_state', 'run') %}Running{% else %}Idle{% endif %}"
                icon_color: "{% if is_state('sensor.washing_machine_machine_state', 'run') %}blue{% else %}grey{% endif %}"
              - type: template
                icon: mdi:tumble-dryer
                content: "{% if is_state('sensor.tumble_dryer_machine_state', 'run') %}Running{% else %}Idle{% endif %}"
                icon_color: "{% if is_state('sensor.tumble_dryer_machine_state', 'run') %}orange{% else %}grey{% endif %}"
              - type: template
                icon: mdi:dishwasher
                content: "{% if is_state('sensor.dishwasher_operation_state', 'run') %}Running{% else %}Ready{% endif %}"
                icon_color: "{% if is_state('sensor.dishwasher_operation_state', 'run') %}green{% else %}grey{% endif %}"
              - type: template
                icon: mdi:stove
                content: "{% if not is_state('sensor.oven', 'off') %}On{% else %}Off{% endif %}"
                icon_color: "{% if not is_state('sensor.oven', 'off') %}red{% else %}grey{% endif %}"
              - type: template
                icon: mdi:fridge
                content: "{{ states('number.refrigerator_fridge_temperature') }}Â°C"
                icon_color: cyan

      # ===========================================================================
      # WASHING MACHINE
      # ===========================================================================
      - type: grid
        title: Washing Machine
        cards:
          - type: custom:mushroom-template-card
            primary: Washing Machine
            secondary: >
              {% if is_state('sensor.washing_machine_machine_state', 'run') %}
                ðŸ”„ Running - {{ states('sensor.washing_machine_programme') }}
              {% else %}
                âœ… {{ states('sensor.washing_machine_machine_state') | title }}
              {% endif %}
            icon: mdi:washing-machine
            icon_color: "{% if is_state('sensor.washing_machine_machine_state', 'run') %}blue{% else %}grey{% endif %}"
            tap_action:
              action: more-info
              entity: sensor.washing_machine_machine_state
            card_mod:
              style: |
                ha-card {
                  background: linear-gradient(135deg, rgba(33, 150, 243, 0.15) 0%, rgba(33, 150, 243, 0.05) 100%);
                  border: 1px solid rgba(33, 150, 243, 0.3);
                }

          - type: custom:mushroom-entity-card
            entity: sensor.washing_machine_energy
            name: Energy Used
            icon: mdi:lightning-bolt

          - type: custom:mushroom-entity-card
            entity: sensor.washing_machine_water_consumption
            name: Water Used
            icon: mdi:water

          - type: custom:mushroom-entity-card
            entity: sensor.washing_machine_power
            name: Current Power
            icon: mdi:flash

      # ===========================================================================
      # TUMBLE DRYER
      # ===========================================================================
      - type: grid
        title: Tumble Dryer
        cards:
          - type: custom:mushroom-template-card
            primary: Tumble Dryer
            secondary: >
              {% if is_state('sensor.tumble_dryer_machine_state', 'run') %}
                ðŸ”„ Running - {{ states('sensor.tumble_dryer_completion_time') }}
              {% else %}
                âœ… {{ states('sensor.tumble_dryer_machine_state') | title }}
              {% endif %}
            icon: mdi:tumble-dryer
            icon_color: "{% if is_state('sensor.tumble_dryer_machine_state', 'run') %}orange{% else %}grey{% endif %}"
            tap_action:
              action: more-info
              entity: sensor.tumble_dryer_machine_state
            card_mod:
              style: |
                ha-card {
                  background: linear-gradient(135deg, rgba(255, 152, 0, 0.15) 0%, rgba(255, 152, 0, 0.05) 100%);
                  border: 1px solid rgba(255, 152, 0, 0.3);
                }

          - type: custom:mushroom-entity-card
            entity: sensor.tumble_dryer_energy
            name: Energy Used
            icon: mdi:lightning-bolt

          - type: custom:mushroom-entity-card
            entity: switch.tumble_dryer_wrinkle_prevent
            name: Wrinkle Prevent
            tap_action:
              action: toggle

      # ===========================================================================
      # DISHWASHER
      # ===========================================================================
      - type: grid
        title: Dishwasher
        cards:
          - type: custom:mushroom-template-card
            primary: Dishwasher
            secondary: >
              {% if is_state('sensor.dishwasher_operation_state', 'run') %}
                ðŸ”„ Running - {{ states('sensor.dishwasher_selected_programme') }}
              {% elif is_state('sensor.dishwasher_salt_nearly_empty', 'present') %}
                âš ï¸ Needs salt refill
              {% else %}
                âœ… {{ states('sensor.dishwasher_operation_state') | title }}
              {% endif %}
            icon: mdi:dishwasher
            icon_color: >
              {% if is_state('sensor.dishwasher_operation_state', 'run') %}green
              {% elif is_state('sensor.dishwasher_salt_nearly_empty', 'present') %}amber
              {% else %}grey{% endif %}
            badge_icon: "{% if is_state('sensor.dishwasher_salt_nearly_empty', 'present') %}mdi:alert{% endif %}"
            badge_color: amber
            tap_action:
              action: more-info
              entity: sensor.dishwasher_operation_state
            card_mod:
              style: |
                ha-card {
                  background: linear-gradient(135deg, rgba(76, 175, 80, 0.15) 0%, rgba(76, 175, 80, 0.05) 100%);
                  border: 1px solid rgba(76, 175, 80, 0.3);
                }

          - type: custom:mushroom-entity-card
            entity: sensor.dishwasher_door
            name: Door
            icon: mdi:door

          - type: custom:mushroom-entity-card
            entity: switch.dishwasher_power
            name: Power
            tap_action:
              action: toggle

          - type: conditional
            conditions:
              - condition: state
                entity: sensor.dishwasher_salt_nearly_empty
                state: "present"
            card:
              type: custom:mushroom-template-card
              primary: "âš ï¸ Salt Low"
              secondary: "Refill needed"
              icon: mdi:shaker-outline
              icon_color: amber
              card_mod:
                style: |
                  ha-card {
                    background: rgba(245, 158, 11, 0.2);
                    border: 1px solid rgba(245, 158, 11, 0.5);
                  }

      # ===========================================================================
      # OVEN
      # ===========================================================================
      - type: grid
        title: Oven
        cards:
          - type: custom:mushroom-template-card
            primary: Oven
            secondary: >
              {% if not is_state('sensor.oven', 'off') %}
                ðŸ”¥ {{ states('sensor.oven_programme') }} - {{ states('sensor.oven_target_temperature') }}Â°C
              {% else %}
                âœ… Off
              {% endif %}
            icon: mdi:stove
            icon_color: "{% if not is_state('sensor.oven', 'off') %}red{% else %}grey{% endif %}"
            tap_action:
              action: more-info
              entity: sensor.oven
            card_mod:
              style: |
                ha-card {
                  background: linear-gradient(135deg, rgba(244, 67, 54, 0.15) 0%, rgba(244, 67, 54, 0.05) 100%);
                  border: 1px solid rgba(244, 67, 54, 0.3);
                }

          - type: custom:mushroom-entity-card
            entity: binary_sensor.oven_door
            name: Door
            icon: mdi:door

          - type: custom:mushroom-entity-card
            entity: sensor.oven_programme
            name: Programme
            icon: mdi:chef-hat

          - type: custom:mushroom-entity-card
            entity: sensor.oven_programme_phase
            name: Phase
            icon: mdi:progress-clock

      # ===========================================================================
      # REFRIGERATOR
      # ===========================================================================
      - type: grid
        title: Refrigerator
        cards:
          - type: custom:mushroom-template-card
            primary: Refrigerator
            secondary: "Fridge {{ states('number.refrigerator_fridge_temperature') }}Â°C â€¢ Freezer {{ states('number.refrigerator_freezer_temperature') }}Â°C"
            icon: mdi:fridge
            icon_color: cyan
            tap_action:
              action: more-info
              entity: number.refrigerator_fridge_temperature
            card_mod:
              style: |
                ha-card {
                  background: linear-gradient(135deg, rgba(0, 188, 212, 0.15) 0%, rgba(0, 188, 212, 0.05) 100%);
                  border: 1px solid rgba(0, 188, 212, 0.3);
                }

          - type: custom:mushroom-number-card
            entity: number.refrigerator_fridge_temperature
            name: Fridge Temp
            icon: mdi:fridge-top
            display_mode: buttons

          - type: custom:mushroom-number-card
            entity: number.refrigerator_freezer_temperature
            name: Freezer Temp
            icon: mdi:fridge-bottom
            display_mode: buttons

          - type: custom:mushroom-entity-card
            entity: binary_sensor.refrigerator_door
            name: Door
            icon: mdi:door



      # ===========================================================================
      # MAINTENANCE ALERTS
      # ===========================================================================
      - type: grid
        title: Maintenance
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: sensor.dishwasher_salt_nearly_empty
                state: "present"
            card:
              type: custom:mushroom-template-card
              primary: "Dishwasher Salt"
              secondary: "Refill needed"
              icon: mdi:shaker-outline
              icon_color: amber

          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.core_400s_filter_lifetime
                below: 20
            card:
              type: custom:mushroom-template-card
              primary: "Air Purifier Filter"
              secondary: "{{ states('sensor.core_400s_filter_lifetime') }}% remaining"
              icon: mdi:air-filter
              icon_color: amber

          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.living_room_humidifier_water_shortage
                state: "on"
            card:
              type: custom:mushroom-template-card
              primary: "Living Room Humidifier"
              secondary: "Needs water refill"
              icon: mdi:water-alert
              icon_color: red

          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.bedroom_humidifier_water_shortage
                state: "on"
            card:
              type: custom:mushroom-template-card
              primary: "Bedroom Humidifier"
              secondary: "Needs water refill"
              icon: mdi:water-alert
              icon_color: red

###############################################################################
# LOUNGE DASHBOARD
# Complete room control - climate, lighting, media, security
###############################################################################

title: Lounge
path: lounge
icon: mdi:sofa

type: sections
max_columns: 3

sections:
  # =========================================================================
  # STATUS OVERVIEW
  # =========================================================================
  - type: grid
    title: ""
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:thermometer
            content: "{{ states('sensor.lounge_temp_sensor_temperature') }}°C"
            icon_color: >
              {% set temp = states('sensor.lounge_temp_sensor_temperature') | float %}
              {% if temp < 18 %}blue{% elif temp > 23 %}red{% else %}green{% endif %}
          - type: template
            icon: mdi:water-percent
            content: "{{ states('sensor.lounge_temp_sensor_humidity') }}%"
            icon_color: >
              {% set hum = states('sensor.lounge_temp_sensor_humidity') | float %}
              {% if hum < 40 %}amber{% elif hum > 60 %}blue{% else %}green{% endif %}
          - type: template
            icon: mdi:leaf
            content: "PM2.5: {{ states('sensor.core_400s_pm2_5') }}"
            icon_color: >
              {% set pm = states('sensor.core_400s_pm2_5') | int %}
              {% if pm < 12 %}green{% elif pm < 35 %}amber{% else %}red{% endif %}
          - type: entity
            entity: media_player.lounge
            icon: mdi:speaker
            content_info: state

  # =========================================================================
  # CLIMATE
  # =========================================================================
  - type: grid
    title: Climate
    cards:
      - type: custom:mushroom-climate-card
        entity: climate.lounge
        name: Heating
        show_temperature_control: true
        hvac_modes:
          - auto
          - heat
          - "off"
        collapsible_controls: true

      - type: custom:mushroom-entity-card
        entity: sensor.lounge_temp_sensor_temperature
        name: Temperature
        icon: mdi:thermometer
        primary_info: state
        secondary_info: name

      - type: custom:mushroom-entity-card
        entity: sensor.lounge_temp_sensor_humidity
        name: Humidity
        icon: mdi:water-percent
        primary_info: state
        secondary_info: name

      - type: custom:mushroom-fan-card
        entity: fan.core_400s
        name: Air Purifier
        icon: mdi:air-purifier
        show_percentage_control: true
        collapsible_controls: true

      - type: custom:mushroom-humidifier-card
        entity: humidifier.living_room_humidifier_humidifier
        name: Humidifier
        show_target_humidity_control: true
        collapsible_controls: true

      - type: custom:mini-graph-card
        name: Temperature (24h)
        entities:
          - entity: sensor.lounge_temp_sensor_temperature
            name: Lounge
            color: "#ff9800"
        hours_to_show: 24
        points_per_hour: 4
        line_width: 2
        show:
          labels: true
          points: false
          legend: false

  # =========================================================================
  # LIGHTING
  # =========================================================================
  - type: grid
    title: Lighting
    cards:
      - type: custom:mushroom-light-card
        entity: light.lounge
        name: All Lights
        icon: mdi:lightbulb-group
        show_brightness_control: true
        show_color_control: true
        use_light_color: true
        collapsible_controls: true

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: Relax
            icon: mdi:spa
            icon_color: orange
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.lounge_relax
            layout: vertical

          - type: custom:mushroom-template-card
            primary: TV
            icon: mdi:television
            icon_color: purple
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.lounge_tv
            layout: vertical

          - type: custom:mushroom-template-card
            primary: Energise
            icon: mdi:flash
            icon_color: yellow
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.lounge_energise
            layout: vertical

          - type: custom:mushroom-template-card
            primary: "Off"
            icon: mdi:lightbulb-off
            icon_color: grey
            tap_action:
              action: call-service
              service: light.turn_off
              target:
                entity_id: light.lounge
            layout: vertical

  # =========================================================================
  # MEDIA
  # =========================================================================
  - type: grid
    title: Media
    cards:
      - type: custom:mini-media-player
        entity: media_player.lounge
        name: Sonos Arc
        artwork: cover
        source: icon
        sound_mode: icon
        info: scroll
        volume_stateless: false

      - type: custom:mushroom-media-player-card
        entity: media_player.lounge_tv_2
        name: Samsung TV
        use_media_info: true
        show_volume_level: true
        media_controls:
          - play_pause_stop
          - previous
          - next
        volume_controls:
          - volume_buttons
          - volume_mute
        collapsible_controls: true

      - type: custom:mushroom-media-player-card
        entity: media_player.stanmore_ii
        name: Marshall Stanmore
        use_media_info: true
        show_volume_level: true
        collapsible_controls: true

  # =========================================================================
  # CAMERA
  # =========================================================================
  - type: grid
    title: Camera
    cards:
      - type: picture-entity
        entity: camera.lounge_snapshot
        name: Lounge Camera
        show_state: false
        show_name: true
        camera_view: live

  # =========================================================================
  # DEVICES & POWER
  # =========================================================================
  - type: grid
    title: Devices
    cards:
      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_samsung_tv
        name: Samsung TV
        icon: mdi:television
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_playstation_5
        name: PlayStation 5
        icon: mdi:sony-playstation
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_sonos_arc
        name: Sonos Arc
        icon: mdi:speaker
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_hue_sync_box
        name: Hue Sync
        icon: mdi:palette
        tap_action:
          action: toggle

---
###############################################################################
# BEDROOM DASHBOARD
###############################################################################

title: Bedroom
path: bedroom
icon: mdi:bed

type: sections
max_columns: 3

sections:
  # =========================================================================
  # STATUS OVERVIEW
  # =========================================================================
  - type: grid
    title: ""
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:thermometer
            content: "{{ states('sensor.edward_bedside_sensor_temperature') }}°C"
            icon_color: >
              {% set temp = states('sensor.edward_bedside_sensor_temperature') | float %}
              {% if temp < 18 %}blue{% elif temp > 23 %}red{% else %}green{% endif %}
          - type: template
            icon: mdi:water-percent
            content: "{{ states('sensor.edward_bedside_sensor_humidity') }}%"
            icon_color: >
              {% set hum = states('sensor.edward_bedside_sensor_humidity') | float %}
              {% if hum < 40 %}amber{% elif hum > 60 %}blue{% else %}green{% endif %}
          - type: entity
            entity: media_player.bedroom
            icon: mdi:speaker
            content_info: state

  # =========================================================================
  # CLIMATE
  # =========================================================================
  - type: grid
    title: Climate
    cards:
      - type: custom:mushroom-climate-card
        entity: climate.room_6
        name: Heating
        show_temperature_control: true
        hvac_modes:
          - auto
          - heat
          - "off"
        collapsible_controls: true

      - type: custom:mushroom-entity-card
        entity: sensor.edward_bedside_sensor_temperature
        name: Temperature
        icon: mdi:thermometer

      - type: custom:mushroom-entity-card
        entity: sensor.edward_bedside_sensor_humidity
        name: Humidity
        icon: mdi:water-percent

      - type: custom:mushroom-humidifier-card
        entity: humidifier.bedroom_humidifier_humidifier
        name: Humidifier
        show_target_humidity_control: true
        collapsible_controls: true

      - type: custom:mini-graph-card
        name: Temperature (24h)
        entities:
          - entity: sensor.edward_bedside_sensor_temperature
            name: Bedroom
            color: "#2196f3"
        hours_to_show: 24
        points_per_hour: 4
        line_width: 2
        show:
          labels: true
          points: false
          legend: false

  # =========================================================================
  # LIGHTING
  # =========================================================================
  - type: grid
    title: Lighting
    cards:
      - type: custom:mushroom-light-card
        entity: light.bedroom
        name: All Lights
        icon: mdi:lightbulb-group
        show_brightness_control: true
        show_color_control: true
        use_light_color: true
        collapsible_controls: true

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: Relax
            icon: mdi:spa
            icon_color: orange
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.bedroom_relax
            layout: vertical

          - type: custom:mushroom-template-card
            primary: Sleepy
            icon: mdi:sleep
            icon_color: indigo
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.bedroom_sleepy
            layout: vertical

          - type: custom:mushroom-template-card
            primary: Arise
            icon: mdi:weather-sunny
            icon_color: amber
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.bedroom_arise
            layout: vertical

          - type: custom:mushroom-template-card
            primary: "Off"
            icon: mdi:lightbulb-off
            icon_color: grey
            tap_action:
              action: call-service
              service: light.turn_off
              target:
                entity_id: light.bedroom
            layout: vertical

  # =========================================================================
  # MEDIA
  # =========================================================================
  - type: grid
    title: Media
    cards:
      - type: custom:mini-media-player
        entity: media_player.bedroom
        name: Sonos Beam
        artwork: cover
        source: icon
        sound_mode: icon

      - type: custom:mushroom-media-player-card
        entity: media_player.lg_webos_tv_oled55g54lw
        name: LG TV
        use_media_info: true
        show_volume_level: true
        collapsible_controls: true

  # =========================================================================
  # CAMERA
  # =========================================================================
  - type: grid
    title: Camera
    cards:
      - type: picture-entity
        entity: camera.bedroom_snapshot
        name: Bedroom Camera
        show_state: false
        show_name: true
        camera_view: live

  # =========================================================================
  # DEVICES
  # =========================================================================
  - type: grid
    title: Devices
    cards:
      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_tv
        name: TV Power
        icon: mdi:television
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_fire_cube
        name: Fire Cube
        icon: mdi:fire
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_sonos
        name: Sonos Beam
        icon: mdi:speaker
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_bedroom_marshall_speaker
        name: Marshall Speaker
        icon: mdi:speaker-bluetooth
        tap_action:
          action: toggle

---
###############################################################################
# OFFICE DASHBOARD
###############################################################################

title: Office
path: office
icon: mdi:desk

type: sections
max_columns: 3

sections:
  # =========================================================================
  # STATUS
  # =========================================================================
  - type: grid
    title: ""
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:thermometer
            content: "{{ states('sensor.office_temp_temperature') }}°C"
            icon_color: >
              {% set temp = states('sensor.office_temp_temperature') | float %}
              {% if temp < 18 %}blue{% elif temp > 23 %}red{% else %}green{% endif %}
          - type: template
            icon: mdi:water-percent
            content: "{{ states('sensor.office_temp_humidity') }}%"
          - type: entity
            entity: binary_sensor.hue_motion_sensor_5_motion
            icon: mdi:motion-sensor
            content_info: none

  # =========================================================================
  # CLIMATE
  # =========================================================================
  - type: grid
    title: Climate
    cards:
      - type: custom:mushroom-climate-card
        entity: climate.office
        name: Heating
        show_temperature_control: true
        hvac_modes:
          - auto
          - heat
          - "off"
        collapsible_controls: true

      - type: custom:mushroom-entity-card
        entity: sensor.office_temp_temperature
        name: Temperature
        icon: mdi:thermometer

      - type: custom:mushroom-entity-card
        entity: sensor.office_temp_humidity
        name: Humidity
        icon: mdi:water-percent

      - type: custom:mini-graph-card
        name: Temperature (24h)
        entities:
          - entity: sensor.office_temp_temperature
            name: Office
            color: "#4caf50"
        hours_to_show: 24
        points_per_hour: 4
        line_width: 2
        show:
          labels: true
          points: false
          legend: false

  # =========================================================================
  # LIGHTING
  # =========================================================================
  - type: grid
    title: Lighting
    cards:
      - type: custom:mushroom-light-card
        entity: light.office
        name: All Lights
        icon: mdi:lightbulb-group
        show_brightness_control: true
        use_light_color: true
        collapsible_controls: true

      - type: custom:mushroom-light-card
        entity: light.office_spotlights
        name: Spotlights
        show_brightness_control: true
        collapsible_controls: true

      - type: custom:mushroom-entity-card
        entity: switch.office_edison_light
        name: Edison Light
        icon: mdi:lightbulb-variant
        tap_action:
          action: toggle

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: Bright
            icon: mdi:brightness-7
            icon_color: yellow
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.office_bright
            layout: vertical

          - type: custom:mushroom-template-card
            primary: Dimmed
            icon: mdi:brightness-4
            icon_color: orange
            tap_action:
              action: call-service
              service: scene.turn_on
              target:
                entity_id: scene.office_dimmed
            layout: vertical

  # =========================================================================
  # DEVICES
  # =========================================================================
  - type: grid
    title: Devices
    cards:
      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_echo_hub
        name: Echo Hub
        icon: mdi:tablet-dashboard
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_multi_usb_c_charger
        name: USB-C Charger
        icon: mdi:usb-c-port
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_macbook_charger
        name: MacBook Charger
        icon: mdi:laptop
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_sonos_speaker
        name: Sonos Speaker
        icon: mdi:speaker
        tap_action:
          action: toggle

---
###############################################################################
# KITCHEN DASHBOARD
###############################################################################

title: Kitchen
path: kitchen
icon: mdi:stove

type: sections
max_columns: 3

sections:
  # =========================================================================
  # STATUS
  # =========================================================================
  - type: grid
    title: ""
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:thermometer
            content: "{{ states('sensor.kitchen_temperature') }}°C"
            icon_color: >
              {% set temp = states('sensor.kitchen_temperature') | float %}
              {% if temp < 18 %}blue{% elif temp > 23 %}red{% else %}green{% endif %}
          - type: template
            icon: mdi:water-percent
            content: "{{ states('sensor.kitchen_humidity') }}%"

  # =========================================================================
  # CLIMATE
  # =========================================================================
  - type: grid
    title: Climate
    cards:
      - type: custom:mushroom-climate-card
        entity: climate.kitchen
        name: Heating
        show_temperature_control: true
        hvac_modes:
          - auto
          - heat
          - "off"
        collapsible_controls: true

      - type: custom:mushroom-entity-card
        entity: sensor.kitchen_temperature
        name: Temperature
        icon: mdi:thermometer

      - type: custom:mushroom-entity-card
        entity: sensor.kitchen_humidity
        name: Humidity
        icon: mdi:water-percent

  # =========================================================================
  # LIGHTING
  # =========================================================================
  - type: grid
    title: Lighting
    cards:
      - type: custom:mushroom-light-card
        entity: light.kitchen
        name: All Lights
        icon: mdi:lightbulb-group
        show_brightness_control: true
        use_light_color: true
        collapsible_controls: true

      - type: custom:mushroom-light-card
        entity: light.kitchen_spotlights
        name: Spotlights
        show_brightness_control: true
        collapsible_controls: true

  # =========================================================================
  # APPLIANCES
  # =========================================================================
  - type: grid
    title: Appliances
    cards:
      - type: custom:mushroom-template-card
        primary: Dishwasher
        secondary: >
          {{ states('sensor.dishwasher_operation_state') | title }}
          {% if states('sensor.dishwasher_salt_nearly_empty') == 'present' %}
          ⚠️ Needs Salt
          {% endif %}
        icon: mdi:dishwasher
        icon_color: >
          {% if states('sensor.dishwasher_operation_state') == 'run' %}
            blue
          {% elif states('sensor.dishwasher_salt_nearly_empty') == 'present' %}
            red
          {% else %}
            grey
          {% endif %}
        tap_action:
          action: more-info
          entity: sensor.dishwasher_operation_state

      - type: custom:mushroom-template-card
        primary: Oven
        secondary: "{{ states('sensor.oven') | title }}"
        icon: mdi:stove
        icon_color: >
          {% if states('sensor.oven') != 'off' %}
            red
          {% else %}
            grey
          {% endif %}
        tap_action:
          action: more-info
          entity: sensor.oven

      - type: custom:mushroom-template-card
        primary: Refrigerator
        secondary: "Fridge: {{ states('number.refrigerator_fridge_temperature') }}°C | Freezer: {{ states('number.refrigerator_freezer_temperature') }}°C"
        icon: mdi:fridge
        icon_color: cyan
        tap_action:
          action: more-info
          entity: number.refrigerator_fridge_temperature

  # =========================================================================
  # COFFEE STATION
  # =========================================================================
  - type: grid
    title: Coffee Station
    cards:
      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_espresso_machine
        name: Espresso Machine
        icon: mdi:coffee-maker
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_coffee_grinder
        name: Coffee Grinder
        icon: mdi:coffee
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.unnamed_p304m_coffee_pot
        name: Coffee Pot
        icon: mdi:coffee-outline
        tap_action:
          action: toggle

      - type: custom:mushroom-entity-card
        entity: switch.kitchen_appliances
        name: Appliances Plug
        icon: mdi:power-socket-uk
        tap_action:
          action: toggle
